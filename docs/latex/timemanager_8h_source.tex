\hypertarget{timemanager_8h_source}{}\doxysection{timemanager.\+h}
\label{timemanager_8h_source}\index{/home/yvzayets/Документы/GitHub/server\_thread-\/pattern-\//timemanager.h@{/home/yvzayets/Документы/GitHub/server\_thread-\/pattern-\//timemanager.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef TIMEMANAGER\_H}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define TIMEMANAGER\_H}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <queue>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <sys/select.h>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <sys/time.h>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{47 \textcolor{keyword}{class }\mbox{\hyperlink{classTimerManager}{TimerManager}} \{}
\DoxyCodeLine{48 \textcolor{keyword}{private}:}
\DoxyCodeLine{49     \textcolor{keyword}{typedef} \textcolor{keyword}{struct }TimerEvent \{}
\DoxyCodeLine{50         std::chrono::steady\_clock::time\_point time;}
\DoxyCodeLine{51         std::function<void()> func;}
\DoxyCodeLine{52         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{53     \} TimerEvent;}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{keyword}{struct }TimerEventCompare \{}
\DoxyCodeLine{56         \textcolor{keywordtype}{bool} operator()(\textcolor{keyword}{const} TimerEvent\& te1, \textcolor{keyword}{const} TimerEvent\& te2) \{}
\DoxyCodeLine{57             \textcolor{keywordflow}{return} te1.time > te2.time;}
\DoxyCodeLine{58         \}}
\DoxyCodeLine{59     \};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     std::priority\_queue<TimerEvent, std::vector<TimerEvent>, TimerEventCompare> active;}
\DoxyCodeLine{62     std::unordered\_map<unsigned int, TimerEvent> timers;}
\DoxyCodeLine{63     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} next\_id;}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 \textcolor{keyword}{public}:}
\DoxyCodeLine{66     \mbox{\hyperlink{classTimerManager}{TimerManager}}() : next\_id(1) \{\}}
\DoxyCodeLine{67     \mbox{\hyperlink{classTimerManager}{\string~TimerManager}}() \{\}}
\DoxyCodeLine{68 }
\DoxyCodeLine{76     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classTimerManager_ae73c759756906d996dd9dfa145dd2700}{timeout}}(std::function<\textcolor{keywordtype}{void}()> func, \textcolor{keywordtype}{int} ms);}
\DoxyCodeLine{77 }
\DoxyCodeLine{84     \textcolor{keywordtype}{void} \mbox{\hyperlink{classTimerManager_a12ffbdd981cd264bb6b6548a988a828d}{unitimeout}}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \textcolor{keywordtype}{id});}
\DoxyCodeLine{85 }
\DoxyCodeLine{95     \textcolor{keywordtype}{int} \mbox{\hyperlink{classTimerManager_a8531f63d4711642f24c297fe8988d283}{tselect}}(\textcolor{keywordtype}{int} maxpl, fd\_set* re, fd\_set* we, fd\_set* ee);}
\DoxyCodeLine{96 \};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// TIMEMANAGER\_H}}

\end{DoxyCode}
