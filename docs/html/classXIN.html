<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Server TCP Multithread CPP: Класс XIN</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Server TCP Multithread CPP<span id="projectnumber">&#160;0.8</span>
   </div>
   <div id="projectbrief">Многопоточный Ассинхронный TCP Сервер</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Поиск','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Открытые члены</a> &#124;
<a href="#pub-attribs">Открытые атрибуты</a> &#124;
<a href="#pro-attribs">Защищенные данные</a> &#124;
<a href="classXIN-members.html">Полный список членов класса</a>  </div>
  <div class="headertitle"><div class="title">Класс XIN</div></div>
</div><!--header-->
<div class="contents">

<p>Класс для приема данных и отправки подтверждений.  
 <a href="classXIN.html#details">Подробнее...</a></p>

<p><code>#include &lt;<a class="el" href="serverx_8h_source.html">serverx.h</a>&gt;</code></p>
<div class="dynheader">
Граф наследования:XIN:</div>
<div class="dyncontent">
<div class="center"><img src="classXIN__inherit__graph.png" border="0" usemap="#aXIN_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">см. легенду</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Открытые члены</h2></td></tr>
<tr class="memitem:a2cfa83bc7b664e298b0a9108eaa5bbec"><td class="memItemLeft" align="right" valign="top"><a id="a2cfa83bc7b664e298b0a9108eaa5bbec" name="a2cfa83bc7b664e298b0a9108eaa5bbec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>XIN</b> (SOCKET fd)</td></tr>
<tr class="separator:a2cfa83bc7b664e298b0a9108eaa5bbec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8585262a15a944066c88ae7e4d78a64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="serverx_8h.html#a937d4dd628a8858b443a399410d2600b">result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXIN.html#aa8585262a15a944066c88ae7e4d78a64">Eсho</a> ()</td></tr>
<tr class="memdesc:aa8585262a15a944066c88ae7e4d78a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Чтение сообщений и отправка подтверждений.  <a href="classXIN.html#aa8585262a15a944066c88ae7e4d78a64">Подробнее...</a><br /></td></tr>
<tr class="separator:aa8585262a15a944066c88ae7e4d78a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Открытые атрибуты</h2></td></tr>
<tr class="memitem:a146fe87c77192031f6579d271926c533"><td class="memItemLeft" align="right" valign="top"><a id="a146fe87c77192031f6579d271926c533" name="a146fe87c77192031f6579d271926c533"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>msgin</b> [BUF]</td></tr>
<tr class="memdesc:a146fe87c77192031f6579d271926c533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Массив последнего сообщения. <br /></td></tr>
<tr class="separator:a146fe87c77192031f6579d271926c533"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Защищенные данные</h2></td></tr>
<tr class="memitem:ad354987d0c134c01218ef3cd02979ad6"><td class="memItemLeft" align="right" valign="top"><a id="ad354987d0c134c01218ef3cd02979ad6" name="ad354987d0c134c01218ef3cd02979ad6"></a>
u_int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>cn_in</b></td></tr>
<tr class="memdesc:ad354987d0c134c01218ef3cd02979ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Получено всего сообщений от клиента IN. <br /></td></tr>
<tr class="separator:ad354987d0c134c01218ef3cd02979ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfb64b6cfc714cda5e53387f61ecf1c"><td class="memItemLeft" align="right" valign="top"><a id="abcfb64b6cfc714cda5e53387f61ecf1c" name="abcfb64b6cfc714cda5e53387f61ecf1c"></a>
u_int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>cn_ack_in</b></td></tr>
<tr class="memdesc:abcfb64b6cfc714cda5e53387f61ecf1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Отправлено ack в IN. <br /></td></tr>
<tr class="separator:abcfb64b6cfc714cda5e53387f61ecf1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac32f7042baca81941cc7012ea4cdc47"><td class="memItemLeft" align="right" valign="top"><a id="aac32f7042baca81941cc7012ea4cdc47" name="aac32f7042baca81941cc7012ea4cdc47"></a>
u_int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>Lost</b></td></tr>
<tr class="memdesc:aac32f7042baca81941cc7012ea4cdc47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Количество неподтвержденных ack в IN. <br /></td></tr>
<tr class="separator:aac32f7042baca81941cc7012ea4cdc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3b2ff7552cc6163214ecfd08ec02c6"><td class="memItemLeft" align="right" valign="top"><a id="a7e3b2ff7552cc6163214ecfd08ec02c6" name="a7e3b2ff7552cc6163214ecfd08ec02c6"></a>
SOCKET&#160;</td><td class="memItemRight" valign="bottom"><b>fdxin</b></td></tr>
<tr class="memdesc:a7e3b2ff7552cc6163214ecfd08ec02c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Сокет. <br /></td></tr>
<tr class="separator:a7e3b2ff7552cc6163214ecfd08ec02c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fa3a934c258b3bb7b578ccdad69eb5"><td class="memItemLeft" align="right" valign="top"><a id="a11fa3a934c258b3bb7b578ccdad69eb5" name="a11fa3a934c258b3bb7b578ccdad69eb5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>size_in</b></td></tr>
<tr class="memdesc:a11fa3a934c258b3bb7b578ccdad69eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Размер массива по умолчанию равен BUF. <br /></td></tr>
<tr class="separator:a11fa3a934c258b3bb7b578ccdad69eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p >Класс для приема данных и отправки подтверждений. </p>
</div><h2 class="groupheader">Методы</h2>
<a id="aa8585262a15a944066c88ae7e4d78a64" name="aa8585262a15a944066c88ae7e4d78a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8585262a15a944066c88ae7e4d78a64">&#9670;&nbsp;</a></span>Eсho()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="serverx_8h.html#a937d4dd628a8858b443a399410d2600b">result</a> XIN::Eсho </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Чтение сообщений и отправка подтверждений. </p>
<p >Функция обработки полученного сообщения и отправки подтверждения.</p>
<p >Функция считывает сообщение из сокета fdxin и сохраняет его в поле msgin. Если считанное количество байт равно 0, то функция возвращает результат Break, иначе проверяется условие для переключения на другую сеть. Если считанное количество байт меньше 0, то функция возвращает результат Break. Если LostAck не равно 0, то случайным образом откидывается сообщение, и функция возвращает результат Continue. Увеличивается счетчик cn_in, который отслеживает количество сообщений от клиента. Затем создается подтверждение ACK, которое состоит из символа ACK и признака сообщения, сдвинутого на один символ вправо. Подтверждение отправляется обратно в сокет fdxin. Если отправка не удалась, выводится ошибка. Увеличивается счетчик cn_ack_in, отслеживающий количество отправленных подтверждений. Возвращается результат True.</p>
<dl class="section return"><dt>Возвращает</dt><dd>Результат операции: Break, Continue или True. </dd></dl>

</div>
</div>
<hr/>Объявления и описания членов классов находятся в файлах:<ul>
<li>/home/yvzayets/Документы/GitHub/server_thread-pattern-/<a class="el" href="serverx_8h_source.html">serverx.h</a></li>
<li>/home/yvzayets/Документы/GitHub/server_thread-pattern-/serverx.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
